create or replace PROCEDURE PROC_CURSOR
IS
        -- CURSOR 생성
        CURSOR EMP_CUR IS
        SELECT * FROM EMP WHERE DEPTNO=10;
        
        CURSOR EMP_SIN IS
        SELECT * FROM EMP WHERE EMPNO=7369;
        
        EMP_LOC EMP%ROWTYPE;
        
BEGIN
        DELETE FROM EMP_CURSOR WHERE DEPTNO=10;
        DBMS_OUTPUT.PUT_LINE(SQL%ROWCOUNT);
        -- 생성 커서를 사용 OPEN -> FETCH -> CLOSE
        
        OPEN EMP_CUR;
        LOOP 
        FETCH EMP_CUR INTO EMP_LOC;
        EXIT WHEN EMP_CUR%NOTFOUND;
        DBMS_OUTPUT.PUT_LINE(EMP_LOC.EMPNO || ',' || EMP_LOC.ENAME);
        END LOOP;
        CLOSE EMP_CUR;
        OPEN EMP_SIN;
        FETCH EMP_SIN INTO EMP_LOC;
        DBMS_OUTPUT.PUT_LINE(EMP_LOC.EMPNO || ',' || EMP_LOC.ENAME || EMP_LOC.JOB);
        CLOSE EMP_SIN;
        
        FOR TEMP IN EMP_CUR LOOP
        DBMS_OUTPUT.PUT_LINE(TEMP.EMPNO|| ',' || TEMP.ENAME|| ',' || TEMP.DEPTNO);
        END LOOP;
        
        FOR TEMP1 IN (SELECT * FROM EMP WHERE DEPTNO=20) LOOP
        DBMS_OUTPUT.PUT_LINE(TEMP1.EMPNO|| ',' || TEMP1.ENAME|| ',' || TEMP1.SAL);
        
        END LOOP;
        
        
END PROC_CURSOR;